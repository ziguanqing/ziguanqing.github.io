!function(t,e){var r=e.documentElement,n="Fluid_Color_Scheme",a="data-user-color-scheme",o="#color-toggle-icon";function c(t){try{return localStorage.getItem(t)}catch(t){return null}}function i(){var t=getComputedStyle(r).getPropertyValue("--color-mode");return"string"==typeof t?t.replace(/["'\s]/g,""):null}function u(){r.setAttribute(a,s()),function(t){try{localStorage.removeItem(t)}catch(t){}}(n)}var l={dark:!0,light:!0};function s(){var t,e="string"==typeof(t=r.getAttribute("data-default-color-scheme"))?t.replace(/["'\s]/g,""):null;if(l[e])return e;if(e=i(),l[e])return e;var n=(new Date).getHours();return n>=18||n>=0&&n<=6?"dark":"light"}function d(i){var d=i||c(n)||s();if(d===s())u();else{if(!l[d])return void u();r.setAttribute(a,d)}!function(t){if(l[t]){var r=g("dark");t&&(r=g(t));var n=e.querySelector(o);n?(n.setAttribute("class","iconfont "+r),n.setAttribute("data",f[t])):Fluid.utils.waitElementLoaded(o,(function(){var n=e.querySelector(o);n&&(n.setAttribute("class","iconfont "+r),n.setAttribute("data",f[t]))}))}}(d),function(r){t.REMARK42&&t.REMARK42.changeTheme(r);t.CUSDIS&&t.CUSDIS.setTheme(r);var n=e.querySelector(".utterances-frame");if(n){var a=t.UtterancesThemeLight;"dark"===r&&(a=t.UtterancesThemeDark);const e={type:"set-theme",theme:a};n.contentWindow.postMessage(e,"https://utteranc.es")}}(d)}var f={dark:"light",light:"dark"};function g(t){return"icon-"+t}function v(){var t=c(n);if(l[t])t=f[t];else{if(null!==t)return;var r=e.querySelector(o);r&&(t=r.getAttribute("data")),r&&l[t]||(t=f[i()])}return function(t,e){try{localStorage.setItem(t,e)}catch(t){}}(n,t),t}d(),Fluid.utils.waitElementLoaded(o,(function(){d();var t=e.querySelector("#color-toggle-btn");if(t){t.addEventListener("click",(function(){d(v())}));var r=e.querySelector(o);r&&(t.addEventListener("mouseenter",(function(){var t=r.getAttribute("data");r.classList.replace(g(f[t]),g(t))})),t.addEventListener("mouseleave",(function(){var t=r.getAttribute("data");r.classList.replace(g(t),g(f[t]))})))}}))}(window,document);